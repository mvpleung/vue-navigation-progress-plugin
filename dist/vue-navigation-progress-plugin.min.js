!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vueNavigationProgressPlugin=e()}(this,function(){"use strict";var t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:[t.cssObj,t.style]})},staticRenderFns:[],name:"router-progress",computed:{style:function(){return{width:this.percent+"%",backgroundColor:this.canSuccess?this.color:this.failedColor,boxShadow:"0 0 10px "+this.shadowColor,opacity:this.show?1:0}}},created:function(){!this.$root.$progress&&(this.$root.$progress=this)},props:{color:{type:String,default:"#77b6ff"},shadowColor:{type:String,default:"rgba(119,182,255,0.7)"},failedColor:{type:String,default:"red"}},data:function(){return{percent:0,show:!1,canSuccess:!0,duration:5e3,cssObj:{position:"fixed",top:"0px",left:"0px",right:"0px",height:"2px",transition:"width .2s, opacity .2s",zIndex:"999998"}}},methods:{start:function(){var t=this;this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>90&&t.pause()},100)},set:function(t){this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t)},get:function(){return Math.floor(this.percent)},increase:function(t){this.percent=this.percent+Math.floor(t)},decrease:function(t){this.percent=this.percent-Math.floor(t)},finish:function(){this.percent=100,this.hide()},pause:function(){clearInterval(this._timer)},hide:function(){var t=this;clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500)},fail:function(){this.canSuccess=!1}}},e=function(t,e){return Array.prototype.concat.apply([],t.matched.map(function(t,n){return Object.keys(t.components).map(function(i){return e(t.components[i],t,i,n)})}))},n=function(t,n,i,o,r){var s=r.app&&r.app.$root.$progress,c=e(t,function(t,e,n){return"function"!=typeof t||t.options?t:new Promise(function(i,r){var s=function(t){t.options?(t._Ctor=t,t.extendOptions=t.options):(t=o.extend(t),t._Ctor=t),e.components[n]=t,i(t)};t().then(s).catch(r)})}),a=n.fullPath.split("#")[0],u=t.fullPath.split("#")[0];a!==u&&s&&s.start(),Promise.all(c).then(function(){s&&s.finish(),i()},function(){s&&s.fail(),s&&s.finish(),i(!1)})},i={install:function(e,i){e.component(t.name,t),i.beforeEach(function(t,o,r){return n(t,o,r,e,i)})}};return i});
//# sourceMappingURL=vue-navigation-progress-plugin.min.js.map